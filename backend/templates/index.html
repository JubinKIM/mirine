<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>중앙일보 뉴스</title>
    <script>
      function loadNews(category) {
        fetch(`/get_news?category=${category}`)
          .then((response) => response.json())
          .then((data) => {
            const ul = document.getElementById("news-list");
            ul.innerHTML = ""; // 기존 뉴스 삭제
            data.forEach((news) => {
              const li = document.createElement("li");
              li.innerHTML = `
              <strong><a href = "${news.link}" target="_blank">${news.title}</a></strong><br/>
                            ${news.description}<br/>
                            <em>${news.date}</em>`;
              ul.appendChild(li);
            });
          })
          .catch((error) => {
            console.error("fetching error!!!", error);
          });
      }
    </script>
  </head>
  <body>
    <h1>중앙日報 뉴스</h1>

    <div id="category-buttons">
      <button onclick="loadNews('politics')">정치</button>
      <button onclick="loadNews('money')">경제</button>
      <button onclick="loadNews('society')">사회</button>
      <button onclick="loadNews('world')">국제</button>
      <button onclick="loadNews('culture')">문화</button>
      <button onclick="loadNews('sports')">스포츠</button>
      <button onclick="loadNews('lifestyle')">라이프</button>
      <button onclick="loadNews('people')">피플</button>
    </div>

    <ul id="news-list"></ul>
  </body>
</html>
